# Usage: python3 scatterplot3D.py att.txt lstm.txt bert.txt output.svg

import sys
import matplotlib.pyplot as plt


att_file, lstm_file, bert_file, output_svg = sys.argv[1:5]

# 1.0 初始化数据
# f(x,y,z) = v
# 其中x,y,z为随机数，v=x*y*z
with open(att_file, 'r') as f:
    x = f.read().splitlines()

with open(lstm_file, 'r') as f:
    y = f.read().splitlines()

with open(bert_file, 'r') as f:
    z = f.read().splitlines()
# x=[0.47818401,0.71976018,0.02949592,0.7856251,0.64619088,0.05063435,0.04984236,0.73416924,0.48628628,0.54099774,0.44341287,0.83205134,0.06004122,0.50050098,0.33001181,0.0391947,0.12889802,0.05280748,0.52871335,0.83864403,0.14437994,0.81412154,0.61238009,0.33678061,0.61745811,0.47697991,0.49499479,0.59278989,0.94660401,0.69164211,0.82497096,0.59482867,0.62530071,0.81011581,0.52339917,0.82855296,0.4575837,0.66118586,0.16500098,0.77531904,0.50168645,0.9114309,0.64899737,0.0544081,0.4295871,0.82072735,0.89606631,0.90034533,0.82976371,0.60914636,0.79375041,0.43575799,0.2362588,0.25613374,0.57470036,0.25110498,0.39364174,0.2207925,0.23752332,0.80708778,0.60282218,0.81470501,0.85923564,0.29663143,0.28332689,0.75046027,0.81313562,0.81516826,0.68997115,0.81687725,0.33417299,0.84354329,0.70353943,0.83526123,0.78016949,0.27939641,0.80806923,0.15656263,0.51667249,0.86268306,0.75377285,0.40076399,0.1377438,0.04364011,0.40403539,0.83635569,0.06421727,0.76761174,0.77407485,0.10209575,0.19458708,0.10266995,0.66848594,0.63771337,0.25652754,0.4163855,0.67693293,0.26458478,0.21416575,0.6746096,0.06839558,0.666682,0.79904401,0.90137184,0.79262501,0.30606419,0.39186352,0.72654057,0.06468865,0.21288773,0.65565151,0.46446955,0.54109836,0.17137453,0.55117834,0.70926148,0.76343548,0.24051276,0.74746609,0.21056941,0.83902586,0.81989849,0.13165081,0.68510079,0.73284626,0.27894345,0.71490848,0.82625306,0.87355834,0.06490692,0.4153643,0.68344116,0.84312165,0.36426002,0.28049922,0.67266923,0.61636782,0.30890936,0.80862546,0.31425875,0.70019066,0.08158889,0.84402514,0.7107076,0.46841413,0.75159669,0.57271314,0.39431372,0.84586734,0.41650122,0.68871427,0.17136896,0.84711111,0.78785384,0.16736352,0.02373418,0.83747065,0.55979389,0.00197247,0.01913691,0.77678549,0.66962034,0.4887113,0.25954032,0.31064683,0.81161785,0.49763185,0.53105772,0.77232528,0.65419388,0.61629552,0.77082533,0.81059277,0.60350883,0.09063563,0.0598689,0.39723858,0.8694458,0.17611268,0.12254497,0.02958545,0.09681422,0.57117265,0.64525861,0.27964637,0.52042645,0.51831377,0.84828705,0.7411263,0.7602222,0.11393577,0.06957769,0.7933774,0.71222699,0.22033098,0.81441605,0.3071059,0.5566386,0.17272294,0.80180246,0.85739779,0.40464675,0.48696944,0.42873734,0.64747536,0.84493601,0.09882611,0.72958124,0.61627072,0.70251536,0.53065914,0.271404,0.81077325,0.55139774,0.69105285,0.77640224,0.53930402,0.67831838,0.75848806,0.8169111,0.23514453,0.82032919,0.05689946,0.69250202,0.54701108,0.2316862,0.06743518,0.71164453,0.24031162,0.45479071,0.19275895,0.43343922,0.58925927,0.43225884,0.82594144,0.69117272,0.80615777,0.61805934,0.73202628,0.73740804,0.82815766,0.54703325,0.85936439,0.70618641,0.69523597,0.34534723,0.66644365,0.83407366,0.60283446,0.80250609,0.61171567,0.82572311,0.29910636,0.93154746,0.83622742,0.79284751,0.18083435,0.54288465,0.7854349,0.7203275,0.77526194,0.65008688,0.82712513,0.68418425,0.74466074,0.6759935,0.98972076,0.59658825,0.79032195,0.22240844,0.82349527,0.15695685,0.14209911,0.04963735,0.31751931,0.85167187,0.98981136,0.79493141,0.77406627,0.81877148,0.21897644,0.83974969,0.45334288,0.77236497,0.70254225,0.72376686,0.74449122,0.78043771,0.998918,0.24169162,0.79077184,0.17706382,0.84018975,0.05905253,0.72886705,0.38348326,0.34964463,0.02514941,0.57843363,0.09160349,0.60248941,0.52581495,0.95420742,0.69863147,0.85506105,0.78314137,0.50560457,0.92080224,0.49705529,0.5269171,0.57176477,0.80827415,0.3284297,0.14935511,0.55272692,0.04346028,0.67553186,0.27622101,0.81011504,0.81709516,0.79904896,0.59408015,0.82421815,0.76875716,0.93493688,0.15757188,0.80272567,0.81970376,0.11137649,0.36408198,0.07387698,0.82997668,0.51870412,0.67891771,0.16174287,0.85344994,0.78632069,0.15916337]
# y=[0.1657969,0.006059817,0.000540544,0.001144384,0.001298322,0.000722129,0.003316195,0.007669514,0.27029032,0.06805766,0.000744588,0.005316548,0.000696068,0.000627706,0.002178222,0.001488803,0.000681682,0.04677852,0.001134046,0.000750611,0.000839766,0.70779544,0.000905066,0.003941264,0.000967732,0.001177893,0.001405344,0.00156533,0.92119145,0.29348218,0.002056358,0.001612843,0.002834254,0.002865441,0.001541574,0.000459094,0.009976009,0.000767658,0.000782132,0.00336469,0.023047531,0.009184794,0.001841986,0.002133514,0.004755087,0.03572154,0.11246499,0.007685491,0.011071252,0.02098961,0.011746427,0.001100051,0.007605297,0.00255249,0.001753475,0.004386393,0.000523582,0.000662304,0.000629347,0.002729474,0.8920682,0.004035639,0.002759967,0.000995175,0.00160615,0.001368225,0.002487083,0.002949323,0.002843509,0.003598202,0.00050933,0.002287095,0.000645436,0.006282092,0.25713575,0.001626953,0.08465064,0.000985527,0.002922908,0.21956027,0.001805235,0.004817238,0.001219542,0.000915028,0.50808275,0.002181707,0.001724632,0.44009343,0.019608483,0.006470331,0.000971165,0.001248038,0.007974954,0.001575302,0.002923428,0.002275118,0.94100523,0.000809816,0.000582997,0.001908623,0.000628567,0.009705772,0.004914529,0.2810806,0.007082311,0.000307174,0.001304738,0.000675728,0.00089827,0.000732411,0.001279236,0.00599839,0.001211505,0.001519622,0.001153733,0.06143223,0.010178374,0.007529343,0.000756244,0.001315059,0.05800683,0.9762626,0.000576461,0.009265886,0.003265187,0.00693969,0.001357721,0.00531954,0.012043828,0.000351803,0.07762155,0.001628363,0.45983204,0.000450278,0.000744308,0.002547059,0.001748955,0.001095336,0.008414768,0.001636565,0.000727067,0.001430512,0.008876158,0.017577287,0.0008959,0.00423336,0.039016727,0.001029396,0.002867502,0.001170927,0.002365739,0.000840776,0.003913946,0.22862594,0.24381956,0.006445442,0.002390628,0.003129028,0.001920809,0.002974789,0.002114155,0.000611854,0.000729248,0.002386876,0.001446019,0.9558074,0.003911253,0.002171537,0.00139069,0.001173002,0.005884287,0.001053942,0.115616225,0.002869352,0.000858432,0.001116336,0.001444093,0.001541336,0.69917923,0.001028964,0.00727304,0.000346816,0.000831528,0.001133643,0.001672273,0.24371299,0.024384683,0.005810713,0.013749134,0.011838412,0.88477665,0.006219129,0.6058153,0.002363669,0.001246634,0.007740766,0.001803705,0.000818945,0.018847207,0.002514222,0.006527646,0.000829984,0.001426229,0.00070862,0.005588133,0.001624385,0.05193327,0.000938259,0.003632362,0.007465093,0.002198389,0.015357306,0.002385992,0.000931819,0.002861937,0.002014167,0.000865371,0.002543528,0.00457024,0.004267217,0.001159899,0.96402264,0.002157042,0.001486161,0.61792606,0.001335901,0.000433349,0.00131189,0.002626058,0.010370677,0.001072808,0.017452827,0.003800607,0.002870461,0.004685628,0.012444022,0.001981282,0.028386956,0.00393019,0.002473117,0.002203468,0.002493329,0.001172242,0.006871847,0.001241499,0.002076961,0.000566744,0.000755658,0.000838343,0.021577105,0.000958981,0.8951517,0.000716101,0.010748581,0.000934027,0.008663846,0.000543905,0.03407795,0.004240282,0.010750274,0.68272114,0.003311066,0.005009089,0.005390882,0.004201496,0.005613815,0.5993307,0.000999583,0.012212469,0.00088593,0.003420519,0.004554894,0.008559614,0.004304649,0.000984549,0.10014671,0.023544807,0.002021889,0.002871019,0.001539138,0.001143409,0.001036045,0.003031286,0.019100001,0.18502061,0.000692387,0.004032181,0.002905095,0.80383813,0.000749406,0.046802346,0.002881978,0.002791051,0.002372747,0.001456992,0.00771811,0.001162268,0.007168369,0.000784348,0.06219404,0.00055249,0.004879243,0.003450472,0.000707166,0.001729509,0.5278121,0.001499656,0.018931886,0.000582415,0.00263779,0.002390836,0.002326757,0.006911221,0.004173462,0.005191146,0.001500343,0.001079128,0.005038413,0.002291035,0.9801615,0.00481703,0.13604759,0.0014063,0.001762467,0.010267241,0.002435077,0.001260987,0.002398505,0.003137115,0.007994599,0.000337344,0.001958072,0.024040079,0.5905534,0.9496461,0.00752097,0.000766643,0.003498302]
# z=[0.29127735,0.44522682,0.04136395,0.14386508,0.2889787,0.15463939,0.02447602,0.27446848,0.53983337,0.32597095,0.53962249,0.45620641,0.03710493,0.92502964,0.92219245,0.05422235,0.67879188,0.99524593,0.20466512,0.97904444,0.93233657,0.31217539,0.18286204,0.14311862,0.27979815,0.61258841,0.21474919,0.87898624,0.98456979,0.1599707,0.84402943,0.21630761,0.50138688,0.94808179,0.39538941,0.97227347,0.36618489,0.97130203,0.88651288,0.09065765,0.9163726,0.99361467,0.21003059,0.3522706,0.59479862,0.96897137,0.2260581,0.99672335,0.76995397,0.53977811,0.25197816,0.7278893,0.98747832,0.96045113,0.84081769,0.50086325,0.36821032,0.32385927,0.85088539,0.23808563,0.76063722,0.1179933,0.26102626,0.10464063,0.23048759,0.89593029,0.53823066,0.30567417,0.36356571,0.34164712,0.30381811,0.29728895,0.96924269,0.69899768,0.65455472,0.32643977,0.0266839,0.11320078,0.17706126,0.91908729,0.18894836,0.68262607,0.32161242,0.53363556,0.90550029,0.13360539,0.64127195,0.33177495,0.12255597,0.77945596,0.93622231,0.04785541,0.92487365,0.0472779,0.5796926,0.82240617,0.12998384,0.13851759,0.90375233,0.07661888,0.28223899,0.07989717,0.45175529,0.18056059,0.79727179,0.78893751,0.16028345,0.19430313,0.96807915,0.73330796,0.57251376,0.65710616,0.29931343,0.00191429,0.14359963,0.1742124,0.04822481,0.6016196,0.04299593,0.20864666,0.59424806,0.35271692,0.92619777,0.47209257,0.38452151,0.38792479,0.06767881,0.39846608,0.5870356,0.17316157,0.83100539,0.37798575,0.96039844,0.02382153,0.25482541,0.36608458,0.42469886,0.4980357,0.68114841,0.68623114,0.97105205,0.20528573,0.31049711,0.84429276,0.25795859,0.24852252,0.08450857,0.01733541,0.17045122,0.41187364,0.37056318,0.89434993,0.73767138,0.59109896,0.7939316,0.69944131,0.13622203,0.26517504,0.00027394,0.12470344,0.41000697,0.23106077,0.11619297,0.17559174,0.96053308,0.27100587,0.0291979,0.31496146,0.44042987,0.5812639,0.5061242,0.30245322,0.36905631,0.2512219,0.12937677,0.38035458,0.21874359,0.2780053,0.80179036,0.01597691,0.97554171,0.32435429,0.14419925,0.22764131,0.39658511,0.30070186,0.90170038,0.36920631,0.2947602,0.81763256,0.17041257,0.95711946,0.63479286,0.1455512,0.3860538,0.11986211,0.00364769,0.25112551,0.77455747,0.2785992,0.20276642,0.30647761,0.18483052,0.21683881,0.21331087,0.76936054,0.56928998,0.38004395,0.40383288,0.64610571,0.17719766,0.97994483,0.12556958,0.14160532,0.31267327,0.42766148,0.15526369,0.13943228,0.16664878,0.59749323,0.92306978,0.30356488,0.11238563,0.50837404,0.99993932,0.62032235,0.35384423,0.17094865,0.22730333,0.34393024,0.67005789,0.24837866,0.28916305,0.32827348,0.35847911,0.34761572,0.18028677,0.3552064,0.18581316,0.40682289,0.45569089,0.31518245,0.82350957,0.59212869,0.18625501,0.27836668,0.43926162,0.51984233,0.15822625,0.81970465,0.16521356,0.3133136,0.17400956,0.14397436,0.58549654,0.46253836,0.76260841,0.86551869,0.35437888,0.17096081,0.70512599,0.21649009,0.89931411,0.29334921,0.37447381,0.88682014,0.99696255,0.48601928,0.42605415,0.96789646,0.33403409,0.50546777,0.9369601,0.86705631,0.7530852,0.31116372,0.94525123,0.38474542,0.80543065,0.28716984,0.43364641,0.57433605,0.64868027,0.98596287,0.35341567,0.22350001,0.56406903,0.56885624,0.98698699,0.11291194,0.08299392,0.27735496,0.20152566,0.83186722,0.5981158,0.45965314,0.09657902,0.0069302,0.14635643,0.36887836,0.0974322,0.23244575,0.90179634,0.18725526,0.78530455,0.09363163,0.050396,0.98867947,0.23049566,0.0353587,0.06387103,0.31918913,0.09565032,0.26355958,0.23001781,0.0332953,0.75468832,0.13019115,0.47093382,0.2561695,0.34846425,0.25071374,0.74950826,0.89855283,0.08917767,0.53363121,0.72686994,0.01508602,0.33564109,0.07940638,0.0032886,0.24162889,0.15136376,0.95321208,0.20096388,0.98762673,0.3158401,0.99229395]
x = [float(i) for i in x]
y = [float(i) for i in y]
z = [float(i) for i in z]

v = [x[i] * y[i] * z[i] for i in range(len(x))]
# 1.1 根据各个点的值(v[])，设置点的颜色值，每个点的颜色使用一个rgb三维的元组表示，例如，若想让点显示为红色，则颜色值为(1.0,0,0)
# 设置各个点的颜色
# 每个点的颜色值按照colormap("seismic",100)进行设计，其中colormap类型为"seismic"，共分为100个级别(level)
min_v = 0
max_v = 1
color = [plt.get_cmap("seismic", 100)(int(float(i - min_v) / (max_v - min_v) * 100)) for i in v]

# 2.0 显示三维散点图
# 新建一个figure()
fig = plt.figure()
# 在figure()中增加一个subplot，并且返回axes
ax = fig.add_subplot(111, projection='3d')
# 设置colormap，与上面提到的类似，使用"seismic"类型的colormap，共100个级别
plt.set_cmap(plt.get_cmap("seismic", 100))
# 绘制三维散点，各个点颜色使用color列表中的值，形状为"."
im = ax.scatter(x, y, z, s=30, c=color, marker='.')
# im = ax.scatter(x, y, z, s=100,c=color,marker='.')
# 2.1 增加侧边colorbar
# 设置侧边colorbar，colorbar上显示的值使用lambda方程设置
position = fig.add_axes([0.9, 0.15, 0.025, 0.6])  # 位置[左,下,宽度,高度]
fig.colorbar(im, cax=position)
# fig.colorbar(im, format=matplotlib.ticker.FuncFormatter(lambda x,pos:int(x*(1-0)+0)))
# 2.2 增加坐标轴标签
ax.set_xlabel('attention')
ax.set_ylabel('lstm')
ax.set_zlabel('bert')
# 2.3显示
plt.savefig(output_svg, format='svg')
